<div class="container">
  <div class="row justify-content-center">
    <div class="col-7">
      <button class="mb-3" mat-flat-button (click)="location.back()">
        <mat-icon>keyboard_backspace</mat-icon>Back
      </button>
      <mat-card appearance="outlined" class="p-3">
        <mat-card-header class="mb-3">
          <mat-card-title> Expense Details</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="row">
            <div class="col-6">
              <div class="mb-3">
                <mat-form-field class="w-100">
                  <mat-label>Enter expense amount</mat-label>
                  <input
                    matInput
                    [formControl]="amount"
                    (blur)="updateErrorMessage()"
                    required
                  />
                  @if (amount.invalid) {
                  <mat-error>{{ errorMessage() }}</mat-error>
                  }
                </mat-form-field>
              </div>
              <div class="mb-3">
                <mat-form-field class="example-full-width w-100">
                  <mat-label>Enter expense description</mat-label>
                  <textarea
                    matInput
                    [formControl]="description"
                    (blur)="updateErrorMessage()"
                  ></textarea>
                  @if (description.invalid) {
                  <mat-error>{{ errorMessage() }}</mat-error>
                  }
                </mat-form-field>
              </div>
            </div>
            <div class="col-6">
              <div class="mb-3">
                <mat-form-field class="w-100">
                  <mat-label>Choose a date</mat-label>
                  <input
                    matInput
                    [matDatepicker]="picker"
                    [formControl]="date"
                  />
                  <mat-datepicker-toggle
                    matIconSuffix
                    [for]="picker"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                  @if (date.invalid) {
                  <mat-error>{{ errorMessage() }}</mat-error>
                  }
                </mat-form-field>
              </div>
              <div class="mb-3">
                <mat-form-field class="w-100">
                  <mat-label>Enter category</mat-label>
                  <input
                    matInput
                    [formControl]="category"
                    (blur)="updateErrorMessage()"
                    required
                  />
                  @if (category.invalid) {
                  <mat-error>{{ errorMessage() }}</mat-error>
                  }
                </mat-form-field>
              </div>
            </div>
          </div>
        </mat-card-content>
        <mat-card-actions align="end">
          <button mat-flat-button (click)="handleAddExpense()">
            {{ !expenseId ? "Add Expense" : "Update Expense" }}
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
